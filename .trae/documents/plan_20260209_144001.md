Vou implementar a solução completa de auditoria e logs centralizada no módulo administrativo.

### Plano de Implementação

#### 1. Unificação e Captura de Logs (Backend)
*   **Centralização**: Utilizarei o `LoggerService` (baseado em banco de dados) como fonte única da verdade, integrando logs dispersos (arquivos JSON) se necessário.
*   **Novos Pontos de Captura**:
    *   **Autenticação**: Adicionar log de "Logout" em `auth/routes.py`.
    *   **Performance**: Implementar um middleware (`after_request`) para capturar e logar requisições que excedam 1 segundo (Warning) ou 5 segundos (Critical).
    *   **Segurança**: Garantir que alterações de permissões e resets de senha já existentes estejam categorizados corretamente.

#### 2. Interface de Gerenciamento (Frontend)
*   **Nova Página `admin_logs.html`**:
    *   Substituir a interface atual por um painel completo.
    *   **Modal de Filtros Avançados**: Implementar modal com seletores para:
        *   Departamento (Dinâmico).
        *   Intervalo de Datas (Datepicker).
        *   Nível de Severidade (INFO, WARNING, ERROR).
        *   Termo de Busca (Texto livre).
    *   **Tabela Interativa**: Exibição colunar (Data/Hora, Nível, Depto, Usuário, Ação, Detalhes) com paginação via AJAX.

#### 3. API e Endpoints (Backend)
*   **Rota de Busca Unificada**: Criar/Atualizar `/api/admin/logs/search` para aceitar todos os filtros (departamento, datas, busca, severidade) e retornar JSON paginado.
*   **Exportação**:
    *   **CSV**: Endpoint dedicado para gerar relatório completo compatível com Excel.
    *   **Visualização de Impressão (PDF)**: Estilizar a página para impressão nativa em PDF (Ctrl+P) ou gerar HTML simplificado para "Imprimir Relatório".

#### 4. Testes e Validação
*   Criar `tests/test_audit_logs.py` para validar:
    *   Registro correto de login/logout.
    *   Filtragem por data e departamento.
    *   Integridade dos dados exportados.

### Próximos Passos
Após sua confirmação, iniciarei pela atualização dos pontos de captura de log e criação da nova interface HTML/JS.
