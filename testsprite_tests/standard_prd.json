{
  "meta": {
    "project": "Sistema Almareia Mirapraia",
    "date": "2026-02-12",
    "prepared_by": "Generated by Trae Assistant"
  },
  "product_overview": "Sistema Almareia Mirapraia é uma plataforma integrada de gestão para hotéis e restaurantes, oferecendo controle de reservas, operações de caixa, monitoramento de consumo em quartos e restaurante, além de funcionalidades administrativas avançadas, tudo acessível via interface web moderna.",
  "core_goals": [
    "Centralizar e automatizar a gestão hoteleira e de restaurante.",
    "Garantiar segurança e controle de acesso por hierarquias de usuário, com forte registro de auditoria.",
    "Oferecer uma experiência intuitiva e dinâmica para usuários da recepção, cozinha, administração e governança.",
    "Permitir operações financeiras completas e integradas, como abertura, fechamento e transferência de caixa.",
    "Manter integridade e segurança dos dados com backups automáticos e restauração controlada.",
    "Facilitar a manutenção e evolução do sistema via arquitetura modular e serviços especializados."
  ],
  "key_features": [
    "Mapa interativo de reservas em estilo Gantt com movimentação drag-and-drop e detalhes clicáveis.",
    "Serviço backend robusto para manipulação de dados de reservas, incluindo leitura de Excel e JSON, e controle detalhado de hóspedes.",
    "Painel administrativo com controles avançados de usuários, relatórios, configuração fiscal e gerenciamento de impressoras.",
    "API segura para cancelamento de consumos com justificativa e registro de auditoria, acessível apenas para administradores.",
    "Sistema automático e configurável para backups locais e completos, com interface de restauração e monitoramento em dashboard.",
    "Ambiente de desenvolvimento isolado garantindo consistência e segurança entre ambientes locais e produção.",
    "Sincronização em tempo real de produtos do frigobar entre governança e recepção com API dedicada.",
    "Fluxos robustos e seguros para transferências de mesas para quartos com controle de concorrência e rollback.",
    "Sistema de log departamental para rastreamento detalhado de ações dos usuários em todos os módulos."
  ],
  "user_flow_summary": [
    "Usuário com perfil apropriado faz login e acessa o painel administrativo ou módulos específicos conforme permissão.",
    "Na recepção, o usuário visualiza o mapa de reservas, manipula e gerencia hospedagens e lançamentos de consumo.",
    "No restaurante, o usuário gerencia mesas, pedidos, transferências e fechamento de contas.",
    "Administradores realizam operações críticas como cancelamento de consumo via API com justificativa e visualização de logs.",
    "Backups automáticos são monitorados e podem ser acionados manualmente pela interface administrativa.",
    "Ao lançar itens do frigobar na governança, o sistema carrega produtos atuais via API, garantindo dados atualizados.",
    "Os fluxos de transferência de mesas para quartos são atomicamente controlados, com lock de arquivos e rollback em caso de falha."
  ],
  "validation_criteria": [
    "Testes automatizados cobrem geração única de IDs, fluxos de cancelamento, controle de acesso e backup.",
    "Validação manual da interface administrativa para garantir visibilidade e restrição de módulos conforme perfil.",
    "Testes de integração verificam consistência dos dados durante transferências e sincronizações.",
    "Monitoramento e logs mostram operações de backup, auditoria e acessos críticos funcionando conforme esperado.",
    "Análise de código confirma arquitetura modular, organização e uso correto dos serviços e blueprints.",
    "Feedback dos usuários sobre uso dos novos recursos sem erros e com usabilidade aprimorada."
  ],
  "code_summary": {
    "tech_stack": [
      "Python",
      "Flask",
      "JavaScript",
      "HTML",
      "CSS",
      "Bootstrap",
      "Pandas",
      "JSON",
      "Excel"
    ],
    "features": [
      {
        "name": "Reservation Map",
        "description": "Interactive Gantt-style chart for viewing and managing room reservations. Supports drag-and-drop for moving reservations and click-to-open details.",
        "files": [
          "app/templates/reception_reservations.html",
          "app/static/css/style.css"
        ]
      },
      {
        "name": "Reservation Service",
        "description": "Backend service for handling reservation data, including reading from Excel/JSON files, creating manual reservations, and managing guest details.",
        "files": [
          "app/services/reservation_service.py"
        ]
      },
      {
        "name": "Reception Routes",
        "description": "Flask blueprint routes for serving the reception dashboard, reservation map, and handling API requests for reservation updates.",
        "files": [
          "app/blueprints/reception/routes.py"
        ]
      },
      {
        "name": "Configuration Manager",
        "description": "Service for managing system configurations and file paths.",
        "files": [
          "app/services/system_config_manager.py"
        ]
      }
    ]
  }
}
